{"ast":null,"code":"var _jsxFileName = \"D:\\\\Clase\\\\Segundo\\\\PGV\\\\websockets\\\\frontend\\\\src\\\\App.js\";\nimport logo from './logo.svg';\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport { Card, Avatar, Input, Typography } from 'antd';\nimport 'antd/dist/reset.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nconst {\n  Text\n} = Typography;\nconst {\n  Meta\n} = Card;\nconst client = new W3CWebSocket('ws://127.0.0.1:8000');\nfunction App() {\n  state = {\n    userName: '',\n    isLoggedIn: false,\n    messages: []\n  };\n  onButtonClicked = value => {\n    client.send(JSON.stringify({\n      type: \"message\",\n      msg: value,\n      user: this.state.userName\n    }));\n    this.setState({\n      searchVal: ''\n    });\n  };\n  componentDidMount = () => {\n    client.onopen = () => {\n      console.log('WebSocket Client Connected');\n    };\n    client.onmessage = message => {\n      const dataFromServer = JSON.parse(message.data);\n      console.log('got reply! ', dataFromServer);\n      if (dataFromServer.type === \"message\") {\n        this.setState(state => ({\n          messages: [...state.messages, {\n            msg: dataFromServer.msg,\n            user: dataFromServer.user\n          }]\n        }));\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    id: \"wrapper\",\n    children: this.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          id: \"main-heading\",\n          type: \"secondary\",\n          style: {\n            fontSize: '36px'\n          },\n          children: [\"Websocket Chat: \", this.state.userName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          paddingBottom: 50\n        },\n        id: \"messages\",\n        children: this.state.messages.map(message => /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: 300,\n            margin: '16px 4px 0 4px',\n            alignSelf: this.state.userName === message.user ? 'flex-end' : 'flex-start'\n          },\n          loading: false,\n          children: /*#__PURE__*/_jsxDEV(Meta, {\n            avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n              style: {\n                color: '#f56a00',\n                backgroundColor: '#fde3cf'\n              },\n              children: message.user[0].toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this),\n            title: message.user + \":\",\n            description: message.msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)\n        }, message.msg, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom\",\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          placeholder: \"input message and send\",\n          enterButton: \"Send\",\n          value: this.state.searchVal,\n          size: \"large\",\n          onChange: e => this.setState({\n            searchVal: e.target.value\n          }),\n          onSearch: value => this.onButtonClicked(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '200px 40px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        placeholder: \"Enter Username\",\n        enterButton: \"Login\",\n        size: \"large\",\n        onSearch: value => this.setState({\n          isLoggedIn: true,\n          userName: value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","ReactDOM","React","Component","w3cwebsocket","W3CWebSocket","Card","Avatar","Input","Typography","Search","Text","Meta","client","App","state","userName","isLoggedIn","messages","onButtonClicked","value","send","JSON","stringify","type","msg","user","setState","searchVal","componentDidMount","onopen","console","log","onmessage","message","dataFromServer","parse","data","fontSize","display","flexDirection","paddingBottom","map","width","margin","alignSelf","color","backgroundColor","toUpperCase","e","target","padding"],"sources":["D:/Clase/Segundo/PGV/websockets/frontend/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport { Card, Avatar, Input, Typography } from 'antd';\nimport 'antd/dist/reset.css';\n\nconst { Search } = Input;\nconst { Text } = Typography;\nconst { Meta } = Card;\n\nconst client = new W3CWebSocket('ws://127.0.0.1:8000');\n\nfunction App() {\n  state = {\n    userName: '',\n    isLoggedIn: false,\n    messages: []\n  }\n\n  onButtonClicked = (value) => {\n    client.send(JSON.stringify({\n      type: \"message\",\n      msg: value,\n      user: this.state.userName\n    }));\n    this.setState({ searchVal: '' })\n  };\n  componentDidMount = () => {\n    client.onopen = () => {\n      console.log('WebSocket Client Connected');\n    };\n    client.onmessage = (message) => {\n      const dataFromServer = JSON.parse(message.data);\n      console.log('got reply! ', dataFromServer);\n      if (dataFromServer.type === \"message\") {\n        this.setState((state) =>\n        ({\n          messages: [...state.messages,\n          {\n            msg: dataFromServer.msg,\n            user: dataFromServer.user\n          }]\n        })\n        );\n      }\n    };\n  }\n  return (\n    <div className=\"main\" id='wrapper'>\n      {this.state.isLoggedIn ?\n        <div>\n          <div className=\"title\">\n            <Text id=\"main-heading\" type=\"secondary\" style={{ fontSize: '36px' }}>Websocket Chat: {this.state.userName}</Text>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', paddingBottom: 50 }} id=\"messages\">\n            {this.state.messages.map(message =>\n              <Card key={message.msg} style={{ width: 300, margin: '16px 4px 0 4px', alignSelf: this.state.userName === message.user ? 'flex-end' : 'flex-start' }} loading={false}>\n                <Meta\n                  avatar={\n                    <Avatar style={{ color: '#f56a00', backgroundColor: '#fde3cf' }}>{message.user[0].toUpperCase()}</Avatar>\n                  }\n                  title={message.user + \":\"}\n                  description={message.msg}\n                />\n              </Card>\n            )}\n          </div>\n          <div className=\"bottom\">\n            <Search\n              placeholder=\"input message and send\"\n              enterButton=\"Send\"\n              value={this.state.searchVal}\n              size=\"large\"\n              onChange={(e) => this.setState({ searchVal: e.target.value })}\n              onSearch={value => this.onButtonClicked(value)}\n            />\n          </div>\n        </div>\n        :\n        <div style={{ padding: '200px 40px' }}>\n          <Search\n            placeholder=\"Enter Username\"\n            enterButton=\"Login\"\n            size=\"large\"\n            onSearch={value => this.setState({ isLoggedIn: true, userName: value })}\n          />\n        </div>\n      }\n    </div>\n  )\n\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}